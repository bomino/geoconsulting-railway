{% extends "base.html" %}

{% block title %}FAQ — GeoConsulting SARLU{% endblock %}

{% block content %}
{# ── Hero ── #}
<section class="hero-gradient hero-pattern relative overflow-hidden py-20 text-white lg:py-24">
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -right-16 -top-16 h-56 w-56 rounded-full border border-white/10 animate-float"></div>
    <div class="absolute -bottom-10 left-10 h-40 w-40 rounded-full border border-white/5" style="animation:float 8s ease-in-out 2s infinite"></div>
  </div>
  <div class="relative mx-auto max-w-4xl px-4 text-center">
    <h1 class="mb-4 text-4xl font-extrabold tracking-tight animate-fade-up sm:text-5xl">Foire aux questions</h1>
    <p class="text-lg text-primary-100/90 animate-fade-up" style="animation-delay:200ms">Retrouvez les réponses aux questions les plus fréquentes</p>
  </div>
</section>

{# ── FAQ Groups ── #}
<section class="py-20 lg:py-24">
  <div class="mx-auto max-w-3xl px-4 lg:px-8">
    {% for category_label, faqs in faq_groups.items %}
    <div class="{% if not forloop.first %}mt-14{% endif %}" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <h2 class="section-divider mb-8 text-2xl font-bold text-primary-800">{{ category_label }}</h2>
      <div class="space-y-3">
        {% for faq in faqs %}
        <div x-data="{ open: false }" class="rounded-2xl border border-gray-100 bg-white shadow-sm transition-shadow hover:shadow-md">
          <button @click="open = !open" type="button"
                  class="flex w-full items-center justify-between px-6 py-5 text-left">
            <span class="pr-4 font-semibold text-gray-900">{{ faq.question }}</span>
            <svg :class="open && 'rotate-180'" class="h-5 w-5 flex-shrink-0 text-primary-600 transition-transform duration-200"
                 fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div x-show="open" x-cloak
               x-transition:enter="transition ease-out duration-200"
               x-transition:enter-start="opacity-0 -translate-y-1"
               x-transition:enter-end="opacity-100 translate-y-0"
               x-transition:leave="transition ease-in duration-150"
               x-transition:leave-start="opacity-100 translate-y-0"
               x-transition:leave-end="opacity-0 -translate-y-1"
               class="border-t border-gray-100 px-6 py-5">
            <div class="prose prose-sm max-w-none text-gray-600">{{ faq.answer }}</div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% empty %}
    <p class="text-center text-gray-500">Aucune question fréquente disponible pour le moment.</p>
    {% endfor %}
  </div>
</section>

{# ── CTA ── #}
<section class="hero-gradient relative overflow-hidden py-16 lg:py-20">
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -right-10 top-0 h-40 w-40 rounded-full border border-white/10"></div>
    <div class="absolute -left-10 bottom-0 h-56 w-56 rounded-full border border-white/5"></div>
  </div>
  <div class="relative mx-auto max-w-3xl px-4 text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
    <h2 class="mb-4 text-2xl font-bold text-white sm:text-3xl">Vous n'avez pas trouvé votre réponse ?</h2>
    <p class="mb-8 text-primary-100/90">N'hésitez pas à nous contacter directement, nous serons ravis de vous aider.</p>
    <a href="/contact/" class="group inline-flex items-center gap-2 rounded-lg bg-white px-8 py-3 font-semibold text-primary-800 shadow-lg transition hover:bg-gray-50 hover:shadow-xl">
      Nous contacter
      <svg class="h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
    </a>
  </div>
</section>
{% endblock %}
