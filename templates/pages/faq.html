{% extends "base.html" %}

{% block title %}FAQ — GeoConsulting SARLU{% endblock %}

{% block content %}
{# ── Hero ── #}
<section class="bg-primary-700 py-16 text-white">
  <div class="mx-auto max-w-4xl px-4 text-center">
    <h1 class="mb-4 text-4xl font-bold">Foire aux questions</h1>
    <p class="text-lg text-primary-200">Retrouvez les réponses aux questions les plus fréquentes</p>
  </div>
</section>

{# ── FAQ Groups ── #}
<section class="py-16">
  <div class="mx-auto max-w-3xl px-4 lg:px-8">
    {% for category_label, faqs in faq_groups.items %}
    <div class="{% if not forloop.first %}mt-12{% endif %}">
      <h2 class="mb-6 text-2xl font-bold text-primary-700">{{ category_label }}</h2>
      <div class="space-y-3">
        {% for faq in faqs %}
        <div x-data="{ open: false }" class="rounded-lg border border-gray-200 bg-white shadow-sm">
          <button @click="open = !open" type="button"
                  class="flex w-full items-center justify-between px-6 py-4 text-left">
            <span class="pr-4 font-medium text-gray-900">{{ faq.question }}</span>
            <svg :class="open && 'rotate-180'" class="h-5 w-5 flex-shrink-0 text-gray-400 transition-transform duration-200"
                 fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div x-show="open" x-cloak
               x-transition:enter="transition ease-out duration-200"
               x-transition:enter-start="opacity-0 -translate-y-1"
               x-transition:enter-end="opacity-100 translate-y-0"
               x-transition:leave="transition ease-in duration-150"
               x-transition:leave-start="opacity-100 translate-y-0"
               x-transition:leave-end="opacity-0 -translate-y-1"
               class="border-t border-gray-200 px-6 py-4">
            <div class="prose prose-sm max-w-none text-gray-700">{{ faq.answer }}</div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% empty %}
    <p class="text-center text-gray-500">Aucune question fréquente disponible pour le moment.</p>
    {% endfor %}
  </div>
</section>

{# ── CTA ── #}
<section class="bg-gray-50 py-16">
  <div class="mx-auto max-w-3xl px-4 text-center">
    <h2 class="mb-4 text-2xl font-bold text-primary-700">Vous n'avez pas trouvé votre réponse ?</h2>
    <p class="mb-6 text-gray-600">N'hésitez pas à nous contacter directement, nous serons ravis de vous aider.</p>
    <a href="/contact/" class="inline-block rounded bg-secondary-700 px-6 py-2.5 text-sm font-medium text-white hover:bg-secondary-600">
      Nous contacter
    </a>
  </div>
</section>
{% endblock %}
