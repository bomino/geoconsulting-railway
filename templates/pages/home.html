{% extends "base.html" %}
{% load static %}

{% block title %}Accueil — GeoConsulting SARLU{% endblock %}

{% block content %}
{# ── Hero ── #}
<section class="hero-gradient hero-pattern relative overflow-hidden py-24 text-white lg:py-32">
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -right-20 -top-20 h-72 w-72 rounded-full border border-white/10 animate-float"></div>
    <div class="absolute -bottom-16 left-10 h-56 w-56 rounded-full border border-white/5" style="animation:float 8s ease-in-out 2s infinite"></div>
    <div class="absolute right-1/4 top-1/3 h-40 w-40 rounded-full border border-white/[.07]" style="animation:float 10s ease-in-out 4s infinite"></div>
  </div>
  <div class="relative mx-auto max-w-7xl px-4 lg:px-8">
    <div class="max-w-3xl">
      <span class="mb-6 inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1.5 text-sm font-medium backdrop-blur-sm animate-fade-in">
        <svg class="h-4 w-4 text-secondary-400" fill="currentColor" viewBox="0 0 20 20"><path d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/></svg>
        Certifié ISO 9001:2015
      </span>
      <h1 class="mb-6 text-4xl font-extrabold leading-tight tracking-tight animate-fade-up sm:text-5xl lg:text-6xl">
        L'expertise géotechnique<br>
        <span class="text-secondary-400">au service du Niger</span>
      </h1>
      <p class="mb-8 max-w-2xl text-lg text-primary-100/90 animate-fade-up" style="animation-delay:200ms">
        Bureau d'étude et laboratoire spécialisé en infrastructure routière, hydraulique, bâtiment et aménagement — la qualité au service du développement durable.
      </p>
      <div class="flex flex-wrap gap-4 animate-fade-up" style="animation-delay:400ms">
        <a href="/projets/" class="group inline-flex items-center gap-2 rounded-lg bg-white px-6 py-3 font-semibold text-primary-800 shadow-lg transition hover:bg-gray-50 hover:shadow-xl">
          Nos Réalisations
          <svg class="h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
        </a>
        <a href="/contact/" class="inline-flex items-center gap-2 rounded-lg border-2 border-white/30 px-6 py-3 font-semibold text-white transition hover:border-white/60 hover:bg-white/10">
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
          Nous Contacter
        </a>
      </div>
    </div>
  </div>
  <div class="relative mx-auto mt-16 max-w-7xl px-4 lg:px-8">
    <div class="grid grid-cols-2 gap-4 rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-sm sm:grid-cols-4 animate-fade-up" style="animation-delay:600ms"
         x-data="{ shown: false, projects: 0, years: 0, domains: 0 }"
         x-intersect.once="shown = true;
           let iv1 = setInterval(() => { projects < {{ project_count }} ? projects++ : clearInterval(iv1) }, 30);
           let iv2 = setInterval(() => { years < {% now 'Y' as cy %}{{ cy|add:'-2011' }} ? years++ : clearInterval(iv2) }, 120);
           let iv3 = setInterval(() => { domains < 5 ? domains++ : clearInterval(iv3) }, 200);">
      <div class="text-center">
        <p class="text-3xl font-bold text-white sm:text-4xl" x-text="shown ? projects + '+' : '0'">0</p>
        <p class="mt-1 text-sm text-primary-200">Projets Réalisés</p>
      </div>
      <div class="text-center">
        <p class="text-3xl font-bold text-white sm:text-4xl" x-text="shown ? years + '+' : '0'">0</p>
        <p class="mt-1 text-sm text-primary-200">Ans d'Expérience</p>
      </div>
      <div class="text-center">
        <p class="text-3xl font-bold text-white sm:text-4xl" x-text="shown ? domains : '0'">0</p>
        <p class="mt-1 text-sm text-primary-200">Domaines d'Expertise</p>
      </div>
      <div class="text-center">
        <p class="text-3xl font-bold text-secondary-400 sm:text-4xl">ISO</p>
        <p class="mt-1 text-sm text-primary-200">9001:2015</p>
      </div>
    </div>
  </div>
</section>

{# ── Services ── #}
<section class="bg-gray-50/50 py-20 lg:py-24">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <div class="mx-auto mb-14 max-w-2xl text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <h2 class="section-divider mb-6 text-3xl font-bold text-primary-800 sm:text-4xl">Nos Services</h2>
      <p class="text-gray-600">Des prestations complètes en études, contrôle et essais de laboratoire pour accompagner vos projets d'infrastructure.</p>
    </div>
    <div class="grid gap-8 sm:grid-cols-3">
      {% for svc in services %}
      <a href="/services/{{ svc.slug }}/"
         class="card-lift group relative rounded-2xl border border-gray-100 bg-white p-8 shadow-sm"
         x-data x-intersect.once="$el.classList.add('animate-fade-up')" style="animation-delay:{{ forloop.counter0 }}50ms">
        <div class="mb-5 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-primary-600 to-primary-800 text-white shadow-lg shadow-primary-600/20">
          <svg class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            {% if forloop.counter == 1 %}
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            {% elif forloop.counter == 2 %}
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
            {% else %}
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
            {% endif %}
          </svg>
        </div>
        <h3 class="mb-3 text-lg font-bold text-primary-800 group-hover:text-primary-600 transition-colors">{{ svc.name }}</h3>
        <p class="mb-4 text-sm leading-relaxed text-gray-600">{{ svc.short|truncatewords:25 }}</p>
        <span class="inline-flex items-center gap-1 text-sm font-semibold text-primary-700 transition-all group-hover:gap-2">
          En savoir plus
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
        </span>
      </a>
      {% endfor %}
    </div>
  </div>
</section>

{# ── Projets en vedette ── #}
<section class="py-20 lg:py-24">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <div class="mx-auto mb-14 max-w-2xl text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <h2 class="section-divider mb-6 text-3xl font-bold text-primary-800 sm:text-4xl">Nos Réalisations</h2>
      <p class="text-gray-600">Plus de {{ project_count }} projets réalisés à travers le Niger dans les domaines routier, hydraulique, bâtiment et aménagement.</p>
    </div>
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {% for project in featured_projects %}
      <a href="/projets/{{ project.slug }}/"
         class="card-lift img-zoom group flex flex-col rounded-2xl border border-gray-100 bg-white shadow-sm"
         x-data x-intersect.once="$el.classList.add('animate-scale-up')" style="animation-delay:{{ forloop.counter0 }}00ms">
        {% if project.image %}
        <img src="{{ project.image.url }}" alt="{{ project.title }}" class="h-52 w-full rounded-t-2xl object-cover">
        {% else %}
        <div class="flex h-52 items-center justify-center rounded-t-2xl bg-gradient-to-br from-primary-100 to-primary-50">
          <span class="text-5xl font-black text-primary-300/60">{{ project.get_category_display|first }}</span>
        </div>
        {% endif %}
        <div class="flex flex-1 flex-col p-5">
          <span class="mb-3 inline-block self-start rounded-full bg-secondary-50 px-3 py-1 text-xs font-semibold text-secondary-700">
            {{ project.get_category_display }}
          </span>
          <h3 class="mb-2 line-clamp-2 text-sm font-bold text-primary-800 group-hover:text-primary-600 transition-colors">{{ project.title }}</h3>
          <p class="mt-auto text-xs text-gray-400">{{ project.location }} — {{ project.year }}</p>
        </div>
      </a>
      {% empty %}
      <p class="col-span-full text-center text-gray-500">Aucun projet disponible pour le moment.</p>
      {% endfor %}
    </div>
    <div class="mt-12 text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <a href="/projets/" class="group inline-flex items-center gap-2 rounded-lg bg-primary-700 px-8 py-3 font-semibold text-white shadow-lg shadow-primary-700/20 transition hover:bg-primary-600 hover:shadow-xl">
        Voir tous les projets
        <svg class="h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
      </a>
    </div>
  </div>
</section>

{# ── Mots du Directeur ── #}
<section class="bg-gray-50/50 py-20 lg:py-24">
  <div class="mx-auto max-w-4xl px-4 lg:px-8" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
    <div class="relative rounded-2xl border border-gray-100 bg-white p-8 shadow-sm lg:p-12">
      <svg class="absolute -top-4 left-8 h-16 w-16 text-primary-100" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10H14.017zM0 21v-7.391c0-5.704 3.731-9.57 8.983-10.609L9.978 5.151c-2.432.917-3.995 3.638-3.995 5.849h4v10H0z"/></svg>
      <div class="relative">
        <p class="mb-4 text-lg leading-relaxed text-gray-700">
          GéoConsulting est un bureau d'étude doté d'un laboratoire. Depuis sa création en 2011,
          il s'est donné comme slogan « la qualité au service du développement durable ».
        </p>
        <p class="mb-4 text-gray-600">
          Notre objectif est de fournir des prestations de bonne qualité en étude et contrôle dans les domaines des
          infrastructures routières, bâtiments, hydraulique et aménagements hydro-agricoles.
        </p>
        <p class="mb-6 text-gray-600">
          GéoConsulting dispose d'un personnel expérimenté et d'un réseau d'experts sur lequel il s'appuie.
          Nous œuvrons pour les administrations publiques, les organisations internationales et les entreprises privées.
        </p>
        <div class="flex items-center gap-4 border-t border-gray-100 pt-6">
          <img src="{% static 'img/DG_Pic.jpeg' %}" alt="Issaka Galadima Moustapha" class="h-14 w-14 rounded-full object-cover">
          <div>
            <p class="font-bold text-primary-800">Issaka Galadima Moustapha</p>
            <p class="text-sm text-gray-500">Directeur Général</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{# ── Articles récents ── #}
<section class="py-20 lg:py-24">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <div class="mx-auto mb-14 max-w-2xl text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <h2 class="section-divider mb-6 text-3xl font-bold text-primary-800 sm:text-4xl">Dernières Actualités</h2>
      <p class="text-gray-600">Suivez nos derniers projets, publications et événements.</p>
    </div>
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {% for article in latest_articles %}
      <a href="/actualites/{{ article.slug }}/"
         class="card-lift img-zoom group flex flex-col rounded-2xl border border-gray-100 bg-white shadow-sm"
         x-data x-intersect.once="$el.classList.add('animate-fade-up')" style="animation-delay:{{ forloop.counter0 }}50ms">
        {% if article.image %}
        <img src="{{ article.image.url }}" alt="{{ article.title }}" class="h-48 w-full rounded-t-2xl object-cover">
        {% else %}
        <div class="flex h-48 items-center justify-center rounded-t-2xl bg-gray-50">
          <svg class="h-10 w-10 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
        </div>
        {% endif %}
        <div class="flex flex-1 flex-col p-5">
          <time class="mb-2 text-xs font-medium text-primary-600" datetime="{{ article.published_at|date:'Y-m-d' }}">{{ article.published_at|date:"d F Y" }}</time>
          <h3 class="mb-2 line-clamp-2 font-bold text-primary-800 group-hover:text-primary-600 transition-colors">{{ article.title }}</h3>
          <p class="mb-4 flex-1 text-sm text-gray-600">{{ article.excerpt|truncatewords:20 }}</p>
          <span class="inline-flex items-center gap-1 text-sm font-semibold text-primary-700 transition-all group-hover:gap-2">
            Lire la suite
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
          </span>
        </div>
      </a>
      {% empty %}
      <p class="col-span-full text-center text-gray-500">Aucun article disponible pour le moment.</p>
      {% endfor %}
    </div>
    <div class="mt-10 text-center" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
      <a href="/actualites/" class="inline-flex items-center gap-1 text-sm font-semibold text-primary-700 transition-all hover:gap-2">
        Voir toutes les actualités
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
      </a>
    </div>
  </div>
</section>

{# ── CTA Banner ── #}
<section class="hero-gradient relative overflow-hidden py-16 lg:py-20">
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -right-10 top-0 h-40 w-40 rounded-full border border-white/10"></div>
    <div class="absolute -left-10 bottom-0 h-56 w-56 rounded-full border border-white/5"></div>
  </div>
  <div class="relative mx-auto max-w-4xl px-4 text-center lg:px-8" x-data x-intersect.once="$el.classList.add('animate-fade-up')">
    <h2 class="mb-4 text-3xl font-bold text-white sm:text-4xl">Un projet en tête ?</h2>
    <p class="mx-auto mb-8 max-w-xl text-primary-100/90">Contactez-nous pour discuter de votre projet. Notre équipe d'experts est à votre disposition.</p>
    <div class="flex flex-wrap justify-center gap-4">
      <a href="/contact/" class="group inline-flex items-center gap-2 rounded-lg bg-white px-8 py-3 font-semibold text-primary-800 shadow-lg transition hover:bg-gray-50 hover:shadow-xl">
        Demander un devis
        <svg class="h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
      </a>
      <a href="tel:+22782242420" class="inline-flex items-center gap-2 rounded-lg border-2 border-white/30 px-8 py-3 font-semibold text-white transition hover:border-white/60 hover:bg-white/10">
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
        +227 82 24 24 20
      </a>
    </div>
  </div>
</section>
{% endblock %}
